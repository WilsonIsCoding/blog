---
title: LeetCode 152. Maximum Product Subarray
description: 152. Maximum Product Subarray
slug: 152. Maximum Product Subarray
date: 2025-08-25
type: Post
tags: [leetCode]
url: https://leetcode.com/problems/maximum-product-subarray/description/
difficulty: medium
---
## 題解

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxProduct = function (nums) {
    let minproduct = nums[0];
    let maxproduct = nums[0];
    let result = nums[0];
    for (let i = 1; i < nums.length; i++) {
        if (nums[i] < 0) {
            [minproduct, maxproduct] = [maxproduct, minproduct]
        }
        minproduct = Math.min(minproduct * nums[i], nums[i])
        maxproduct = Math.max(maxproduct * nums[i], nums[i])
        result = Math.max(minproduct, maxproduct, result)
    }
    return result
};
```

時間複雜度：O(n)
空間複雜度：O(3)