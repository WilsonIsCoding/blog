---
title: clean code初探
description: clean-code(序)
slug: clean-code-intro
date: 2024-03-10
type: Post
---

## 設計思考初探

<p>常常之前就有聽過Clean Code，也常常在技術會議上聽到相關的討論跟分享。
但`真的真的`其實比較少站在前端的角度去分享跟舉例這件事情。</p>

<p>所以接下來應該會依照講一下在`Clean Code`所提到的模式，並且嘗試著站在前端的角度去舉例，而舉例的例子則會放在[這個Repo](https://github.com/WilsonIsCoding/Design-Pattern)裏面</p>

<p>So！來分享一下Clean Code這本書提到的一些概念跟收穫</p>

<h3>有意義的命名原則</h3>
<p>前一陣子在公司裡面有一段時間蠻不適應公司的code review，蠻常因為無意義的命名而被commit，但其實大多數的命名都有共通的語言來做到初步的辨識，除了最基本的駝峰外，比如compute的變數就可以用computed作為前綴，而最前面的動詞的命名也很重要，前一段時間我需要在一個function return 後再去call另外一支API，那隻API的目的是要去建立另外一筆資料，所以我的命名就直接叫做createXXXData，但是在code review時，就有被提醒，命名可以同時參考這支API的觸發時機，所以如果被改為updateXXXDataAfterXXX的話會更貼切，</p>

<h3>縮排與註解</h3>
<p>縮排這件事情我本身不太有感覺，大概是因為之前寫程式時 為了讓我自己比較好看懂，我就有使用prettier的習慣，前公司也有使用ESLINT的習慣，所以對於風格來說，是可以透過外部工具來解決的</p>
<p>但是註解這件事情 真的是我到現在這間公司之後才有感覺 「合適」的命名跟「清楚」的註解的重要，之前自己開發，自己看得懂就行，之前做一人的廣告案，專案複雜度也不會需要到很清楚的註解，畢竟也不會深到需要5個compontent以上，但是現公司光是前端就有四個同時在同一個專案上進行開發，你現在寫的專案，可能一個禮拜後就由別人接手，如何讓別人在最短時間內清楚專案架構，且方便開發，真的是軟體工程非常非常重要的一環。</p>

<h3>邊界與封裝</h3>
<p>之前專案有一項的任務是要串接一個非常複雜的API，裏面包含了10多個使用者參數，其中某些變數還會影響彼此，如果按照平常的開發流程，一定沒辦法等後端開發完成後才進行串接，所以在這個階段，一定是在跟後端討論過後，對這個API的欄位有一個「基本」的想像，並且運用這些想像先行開發，就我這個例子來說，就是先建立一筆討論過後的假資料，並用這個假資料進行fetch api的運作，其他的開發就依照假裝真的依照API拿回真的資料去進行操作。</p>
<p>如此一來，就可以避免開發中的空窗，又可以等真的API出來後就直接進行測試。如此一來就只需要檢視前後端各自交付過後的狀況了。</p>

<h3>Single responsibility principle</h3>
<p>這算是我在程式碼上最大的進步，以前就會覺得如果是明確需要再一起運作的程式碼，我就會想要把它寫在同一個function，完全沒有在管side effect，或是污染這件事，但那都是年輕的時候了(X</p>
<p>總之要特別注意的是 除了函數的命名應該要能透過 命名知道他做了什麼之外，他也應該「只」做了那件事，套一句工程師youtube說的話，一個紀錄email的func，做的應該就只是要紀錄email而已，不要看到裡面又有紀錄又有寄送</p>
<p>而且變數的改動應該要遵守各自的原則，舉一個vuex和pinia的差別，vuex是透過commit去進行state的改動，但pinia可以是「允許」component直接對value進行操作的，這其實是一件蠻危險的事情，最好的方式還是應該要委派action去進行更動，來方便溯源。</p>
